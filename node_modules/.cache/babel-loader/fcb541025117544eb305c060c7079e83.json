{"ast":null,"code":"var _jsxFileName = \"/Users/martinhampton/Documents/course_work/StrangersThings/src/components/PostCreateForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createPost } from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PostCreateForm = _ref => {\n  _s();\n  let {\n    token,\n    setPosts,\n    post\n  } = _ref;\n  const history = useHistory();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui fluid card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"ui form\",\n          onSubmit: async event => {\n            event.preventDefault();\n            const {\n              error,\n              post\n            } = await createPost(token, title, description, price, location);\n            console.log(\"posts onSubmit\");\n            if (post) {\n              console.log(\"post\", post);\n              setPosts(prevPosts => [...prevPosts, post]);\n              setTitle(\"\");\n              setDescription(\"\");\n              setPrice(\"\");\n              setLocation(\"\");\n              history.push(\"/posts\");\n            } else {\n              setErrorMessage(error);\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Create Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"Title\",\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"field\",\n                placeholder: \"Title\",\n                required: true,\n                autoComplete: \"off\",\n                value: title,\n                onChange: event => {\n                  setTitle(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"Description\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"field\",\n                placeholder: \"Description\",\n                required: true,\n                autoComplete: \"off\",\n                value: description,\n                onChange: event => {\n                  setDescription(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"Price\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"field\",\n                placeholder: \"Price\",\n                required: true,\n                autoComplete: \"off\",\n                value: price,\n                onChange: event => {\n                  setPrice(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"Location\",\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"field\",\n                placeholder: \"Location\",\n                autoComplete: \"off\",\n                value: location,\n                onChange: event => {\n                  setLocation(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), errorMessage ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"ui negative message\",\n              children: errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"ui button\",\n              children: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n};\n_s(PostCreateForm, \"NI1eF7fZHL9E+xjlpHOPiqyZFiE=\", false, function () {\n  return [useHistory];\n});\n_c = PostCreateForm;\nexport default PostCreateForm;\nvar _c;\n$RefreshReg$(_c, \"PostCreateForm\");","map":{"version":3,"names":["React","useState","useHistory","createPost","PostCreateForm","token","setPosts","post","history","title","setTitle","description","setDescription","price","setPrice","location","setLocation","errorMessage","setErrorMessage","event","preventDefault","error","console","log","prevPosts","push","target","value"],"sources":["/Users/martinhampton/Documents/course_work/StrangersThings/src/components/PostCreateForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { createPost } from \"../api/api\";\n\nconst PostCreateForm = ({ token, setPosts, post }) => {\n  const history = useHistory();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  return (\n    <div className=\"container\">\n      <div className=\"ui fluid card\">\n        <div className=\"content\">\n          <form\n            className=\"ui form\"\n            onSubmit={async (event) => {\n              event.preventDefault();\n\n              const { error, post } = await createPost(\n                token,\n                title,\n                description,\n                price,\n                location\n              );\n\n              console.log(\"posts onSubmit\");\n\n              if (post) {\n                console.log(\"post\", post);\n                setPosts((prevPosts) => [...prevPosts, post]);\n                setTitle(\"\");\n                setDescription(\"\");\n                setPrice(\"\");\n                setLocation(\"\");\n                history.push(\"/posts\");\n              } else {\n                setErrorMessage(error);\n              }\n            }}\n          >\n            <>\n              <h2>Create Post</h2>\n              <div className=\"field\">\n                <label htmlFor=\"Title\">Title</label>\n                <input\n                  type=\"text\"\n                  className=\"field\"\n                  placeholder=\"Title\"\n                  required\n                  autoComplete=\"off\"\n                  value={title}\n                  onChange={(event) => {\n                    setTitle(event.target.value);\n                  }}\n                ></input>\n              </div>\n              <div className=\"field\">\n                <label htmlFor=\"Description\">Description</label>\n                <input\n                  type=\"text\"\n                  className=\"field\"\n                  placeholder=\"Description\"\n                  required\n                  autoComplete=\"off\"\n                  value={description}\n                  onChange={(event) => {\n                    setDescription(event.target.value);\n                  }}\n                ></input>\n              </div>\n\n              <div className=\"field\">\n                <label htmlFor=\"Price\">Price</label>\n                <input\n                  type=\"text\"\n                  className=\"field\"\n                  placeholder=\"Price\"\n                  required\n                  autoComplete=\"off\"\n                  value={price}\n                  onChange={(event) => {\n                    setPrice(event.target.value);\n                  }}\n                ></input>\n              </div>\n              <div className=\"field\">\n                <label htmlFor=\"Location\">Location</label>\n                <input\n                  type=\"text\"\n                  className=\"field\"\n                  placeholder=\"Location\"\n                  autoComplete=\"off\"\n                  value={location}\n                  onChange={(event) => {\n                    setLocation(event.target.value);\n                  }}\n                ></input>\n              </div>\n\n              {errorMessage ? (\n                <p className=\"ui negative message\">{errorMessage}</p>\n              ) : null}\n\n              <button type=\"submit\" className=\"ui button\">\n                Create\n              </button>\n            </>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostCreateForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}